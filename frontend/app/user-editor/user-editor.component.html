<div class="d-flex flex-column">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <mat-form-field class="full-width">
        Name:
        <input matInput formControlName="name" placeholder="Name:" autofocus>
      </mat-form-field>
    </div>
    <div class="form-group">
      <mat-form-field>
        Age:
        <input matInput formControlName="age" placeholder="Age:" autofocus>
      </mat-form-field>
      <p class="text-danger"
         *ngIf="age.errors !== null && (age.touched || age.dirty)">
        Age must be <span *ngIf="age.errors.min; else max">more than 18</span>!
        <ng-template #max>less than 65</ng-template>
      </p>
    </div>
    <div class="form-group">
      <mat-form-field>
        Birthday:
        <input matInput formControlName="birthday" placeholder="Birthday:">
      </mat-form-field>
      <p class="text-danger"
         *ngIf="birthday.errors !== null && (birthday.touched || birthday.dirty)">
        {{birthday.errors.errorMessage}}.
      </p>
    </div>
    <div class="form-group">
      <mat-form-field>
        Date of next notification:
        <input matInput formControlName="nextNotify" placeholder="Date of next notification:">
      </mat-form-field>
      <p class="text-danger"
         *ngIf="nextNotify.errors !== null && (nextNotify.touched || nextNotify.dirty)">
        {{nextNotify.errors.errorMessage}}
      </p>
    </div>
    <div class="form-group">
      <mat-form-field>
        Date of first login:
        <input matInput formControlName="firstLogin" placeholder="Date of first login:">
      </mat-form-field>
      <p class="text-danger"
         *ngIf="firstLogin.errors !== null && (firstLogin.touched || firstLogin.dirty)">
        {{firstLogin.errors.errorMessage}}
      </p>
    </div>
    <div class="form-group">
      <mat-form-field class="full-width">
        Info:
        <input matInput formControlName="info" placeholder="Info:" autofocus>
      </mat-form-field>
    </div>

    <div *ngFor="let err of userForm.errors">
      <span>{{err}}</span><br>
    </div>

    <div class="form-group text-center">
      <button mat-button color="primary" type="submit" [disabled]="!userForm.valid">Send</button>
      <button mat-button color="accent" type="reset">Reset</button>
      <button mat-button color="warn" type="button" (click)="showErrors();">Show errors in console</button>
    </div>
  </form>

  <div *ngIf="submitted" class="mt-4 mb-4">
    <app-user-info [userForm]="userForm"></app-user-info>
  </div>

</div>

